# Migration `20200808202358-add-email-field`

This migration has been generated by Leandher at 8/8/2020, 5:23:58 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" ADD COLUMN "email" text  NOT NULL ;

CREATE UNIQUE INDEX "User.email_unique" ON "public"."User"("email")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200808184917-create-db..20200808202358-add-email-field
--- datamodel.dml
+++ datamodel.dml
@@ -3,32 +3,33 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id          Int          @default(autoincrement()) @id
   name        String
+  email       String       @unique
   avatar      String
   whatsapp    String
   bio         String
   classes     Class[]
   connections Connection[]
 }
 model Class {
-  id             Int              @default(autoincrement()) @id
-  subject        String
-  cost           Float
-  user_id        Int
-  users          User             @relation(fields: [user_id], references: [id])
-  schedules      Schedule[]
+  id        Int        @default(autoincrement()) @id
+  subject   String
+  cost      Float
+  user_id   Int
+  users     User       @relation(fields: [user_id], references: [id])
+  schedules Schedule[]
 }
 model Schedule {
-  id       Int     @default(autoincrement()) @id
+  id       Int   @default(autoincrement()) @id
   week_day Int
   from     Int
   to       Int
   class_id Int
@@ -38,6 +39,6 @@
 model Connection {
   id         Int      @default(autoincrement()) @id
   user_id    Int
   created_at DateTime @default(dbgenerated())
-  users      User    @relation(fields: [user_id], references: [id])
+  users      User     @relation(fields: [user_id], references: [id])
 }
```


